# トラブルシューティング
ここには、コードを実装しても地図が表示されない場合や地図上でルート検索が反映されないなどの一部のエラーとその対処法をまとめています。
本リポジトリを参考にして開発を進めている方は参考にしてください。エラー文に関しては、各ブラウザのデベロッパー コンソールから確認することができます。
なお、ここで紹介するエラーは、本ハンズオンの中で使用しているメソッドや API キーにまつわるもののみとなります。

## 指定したベースマップが表示されない

```
エラー文の例
Error: missing required property "version"
Error: missing required property "sources"
Error: missing required property "layers"
```

上記したようなエラーが出ている際には、いくつか理由が挙げられます。

- 使用している API キーが間違っている
     
     使用している API キーの値と変数名をご確認ください。

- 指定しているベースマップの名前が間違っている
    
    使用するベースマップの種類名を確認してください。使用できる種類のベースマップの名前に関しては、ベースマップを指定する Esri Leaflet の[サンプルコード](https://developers.arcgis.com/esri-leaflet/maps/change-the-basemap-layer/)を参考にしてください。

- タイルレイヤーのアイテム ID が間違っている(GitHub に上げる前に一回消して、あげたら入れる)
    
    使用するタイルレイヤーのアイテム ID をご確認ください。ここで使用する ID は、各アイテムの URL の後ろに記載されています id の箇所を参照してください。


## 地名検索が実行されない
本ハンズオンで実装したコードでは、ジオコーディングが失敗した際にエラーを表示しません。そのため、地名検索が実行されない場合は以下の二つをご確認ください。

- 使用している API キーが間違っている
    
    使用している API キーの値と変数名をご確認ください。

- API キー設定でジオコーディングを可能にしていない
    
    API キーの設定からジオコーディングの実行をできるように設定してください。設定方法については README.md の [1. API キーの作成と設定の確認](./#1-api-キーの作成と設定についての確認)を参考にしてください。

## ルート検索が実行されない

```
エラー文の例
message: 498: Invalid Token
​name: "ArcGISAuthError"
```

- 使用している API キーが間違っている
    
     使用している API キーの値と変数名をご確認ください。


```
エラー文の例
message: "403: User does not have permissions to access 'world/route.mapserver'."
name: "ArcGISRequestError"
```

- API キー設定でルート検索を可能にしていない
    
    API キーの設定からルート検索の実行をできるように設定してください。設定方法については README.md の [1. API キーの作成と設定の確認](./#1-api-キーの作成と設定についての確認)を参考にしてください。

